.settings-overlay{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(4px)}.settings-window{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:12px;width:90vw;max-width:1000px;height:80vh;max-height:700px;display:flex;flex-direction:column;box-shadow:0 20px 40px #0003;overflow:hidden}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary)}.settings-header h2{margin:0;color:var(--text-primary);font-size:18px;font-weight:600}.settings-header-actions{display:flex;gap:12px;align-items:center}.btn-save{background:var(--accent-color);color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-save:hover:not(:disabled){background:var(--accent-hover);transform:translateY(-1px)}.btn-save:disabled{opacity:.6;cursor:not-allowed}.btn-close{background:transparent;border:1px solid var(--border-color);color:var(--text-secondary);width:32px;height:32px;border-radius:6px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;font-size:16px}.btn-close:hover{background:var(--bg-hover);color:var(--text-primary)}.settings-content{display:flex;flex:1;overflow:hidden}.settings-sidebar{width:200px;background:var(--bg-secondary);border-right:1px solid var(--border-color);padding:16px 0;overflow-y:auto}.settings-tab{display:flex;align-items:center;gap:12px;padding:12px 20px;width:100%;background:transparent;border:none;color:var(--text-secondary);cursor:pointer;transition:all .2s ease;text-align:left;font-size:14px}.settings-tab:hover{background:var(--bg-hover);color:var(--text-primary)}.settings-tab.active{background:var(--accent-color);color:#fff}.tab-icon{font-size:16px;width:20px;text-align:center}.tab-label{font-weight:500}.settings-main{flex:1;overflow-y:auto;padding:24px}.settings-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;height:200px;color:var(--text-secondary)}.loading-spinner{width:24px;height:24px;border:2px solid var(--border-color);border-top:2px solid var(--accent-color);border-radius:50%;animation:spin 1s linear infinite}.settings-section{margin-bottom:32px}.settings-section:last-child{margin-bottom:0}.settings-section-title{font-size:16px;font-weight:600;color:var(--text-primary);margin-bottom:16px;padding-bottom:8px;border-bottom:1px solid var(--border-color)}.settings-group{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:20px;margin-bottom:16px}.settings-group:last-child{margin-bottom:0}.settings-row{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin-bottom:16px}.settings-row:last-child{margin-bottom:0}.settings-label{flex:1;min-width:0}.settings-label h4{margin:0 0 4px;color:var(--text-primary);font-size:14px;font-weight:500}.settings-label p{margin:0;color:var(--text-secondary);font-size:13px;line-height:1.4}.settings-control{flex-shrink:0;min-width:200px}.form-input,.form-select,.form-textarea{width:100%;padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;background:var(--bg-primary);color:var(--text-primary);font-size:14px;transition:all .2s ease}.form-input:focus,.form-select:focus,.form-textarea:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 3px #3b82f61a}.form-textarea{min-height:60px;resize:vertical}.form-switch{position:relative;display:inline-block;width:48px;height:24px}.form-switch input{opacity:0;width:0;height:0}.form-switch-slider{position:absolute;cursor:pointer;inset:0;background:var(--border-color);transition:.3s;border-radius:24px}.form-switch-slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background:#fff;transition:.3s;border-radius:50%}.form-switch input:checked+.form-switch-slider{background:var(--accent-color)}.form-switch input:checked+.form-switch-slider:before{transform:translate(24px)}.btn{padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;border:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-primary)}.btn:hover:not(:disabled){background:var(--bg-hover);transform:translateY(-1px)}.btn:disabled{opacity:.6;cursor:not-allowed}.btn-primary{background:var(--accent-color);color:#fff;border-color:var(--accent-color)}.btn-primary:hover:not(:disabled){background:var(--accent-hover);border-color:var(--accent-hover)}.btn-danger{background:#ef4444;color:#fff;border-color:#ef4444}.btn-danger:hover:not(:disabled){background:#dc2626;border-color:#dc2626}.btn-small{padding:4px 8px;font-size:12px}.status-indicator{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:12px;font-size:12px;font-weight:500}.status-indicator.enabled{background:#dcfce7;color:#166534}.status-indicator.disabled{background:#fee2e2;color:#991b1b}.status-indicator.running{background:#dbeafe;color:#1e40af}.status-indicator.stopped{background:#f3f4f6;color:#374151}.status-indicator.error{background:#fee2e2;color:#991b1b}@media (max-width: 768px){.settings-window{width:95vw;height:90vh}.settings-content{flex-direction:column}.settings-sidebar{width:100%;border-right:none;border-bottom:1px solid var(--border-color);padding:12px}.settings-tab{padding:8px 12px}.settings-main{padding:16px}.settings-row{flex-direction:column;align-items:stretch;gap:8px}.settings-control{min-width:auto}}.chat-window{display:flex;height:100vh;background:var(--bg-primary);color:var(--text-primary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.conversation-sidebar{width:280px;min-width:280px;background:var(--bg-secondary);border-right:1px solid var(--border-color);display:flex;flex-direction:column}.sidebar-header{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid var(--border-color)}.sidebar-header h2{margin:0;font-size:18px;font-weight:600}.new-conversation-btn{width:32px;height:32px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-primary);color:var(--text-primary);font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.new-conversation-btn:hover{background:var(--bg-hover)}.conversation-list{flex:1;overflow-y:auto;padding:8px}.empty-conversations{text-align:center;padding:40px 20px;color:var(--text-secondary)}.conversation-item{display:flex;justify-content:space-between;align-items:center;padding:12px;margin-bottom:4px;border-radius:8px;cursor:pointer;transition:background-color .2s ease;position:relative}.conversation-item:hover{background:var(--bg-hover)}.conversation-item.active{background:var(--bg-active);border:1px solid var(--border-active)}.conversation-content{flex:1;min-width:0}.conversation-title{font-weight:500;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.title-edit-input{width:100%;background:var(--bg-primary);border:1px solid var(--border-active);border-radius:4px;padding:4px 8px;font-size:14px;color:var(--text-primary)}.conversation-meta{display:flex;flex-direction:column;gap:2px;font-size:12px;color:var(--text-secondary)}.conversation-actions{display:flex;gap:4px;opacity:0;transition:opacity .2s ease}.conversation-item:hover .conversation-actions{opacity:1}.action-btn{width:24px;height:24px;border:none;background:none;cursor:pointer;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:12px;transition:background-color .2s ease}.action-btn:hover{background:var(--bg-hover)}.delete-btn:hover{background:#fee;color:#d00}.chat-main{flex:1;display:flex;flex-direction:column;min-width:0}.chat-header{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom:1px solid var(--border-color);background:var(--bg-primary)}.conversation-title{font-size:18px;font-weight:600}.chat-header-actions{display:flex;align-items:center;gap:12px}.settings-button{width:36px;height:36px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-secondary);font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.settings-button:hover{background:var(--bg-hover);color:var(--text-primary);transform:translateY(-1px)}.error-alerts{padding:12px 24px;background:var(--bg-error);border-bottom:1px solid var(--border-error)}.error-alert{display:flex;justify-content:space-between;align-items:flex-start;padding:12px;margin-bottom:8px;border-radius:6px;background:#fee;border:1px solid #fcc;color:#c00}.error-alert:last-child{margin-bottom:0}.error-message{font-weight:500}.error-details{font-size:12px;margin-top:4px;opacity:.8}.error-dismiss{background:none;border:none;font-size:18px;cursor:pointer;color:#c00;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center}.chat-container{flex:1;overflow-y:auto;padding:24px;display:flex;flex-direction:column}.chat-empty{flex:1;display:flex;align-items:center;justify-content:center}.empty-state{text-align:center;max-width:400px}.empty-state h2{margin-bottom:12px;color:var(--text-primary)}.empty-state p{margin-bottom:24px;color:var(--text-secondary)}.primary-button{background:var(--bg-primary-button);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.primary-button:hover{background:var(--bg-primary-button-hover)}.message-list{display:flex;flex-direction:column;gap:16px}.message-item{max-width:85%;padding:16px;border-radius:12px;position:relative}.message-user{align-self:flex-end;background:var(--bg-user-message);color:var(--text-user-message)}.message-assistant{align-self:flex-start;background:var(--bg-assistant-message);color:var(--text-assistant-message);border:1px solid var(--border-color)}.message-system{align-self:center;background:var(--bg-system-message);color:var(--text-system-message);font-style:italic;max-width:60%;text-align:center}.message-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:12px}.message-role{font-weight:600;color:var(--text-primary)}.message-meta{display:flex;gap:8px;color:var(--text-secondary);font-size:11px}.message-model,.message-provider,.message-cost,.message-time{opacity:.7}.message-cost{color:var(--text-cost);font-weight:500}.message-content{line-height:1.5;white-space:pre-wrap;word-wrap:break-word}.message-tokens{display:flex;gap:12px;margin-top:8px;font-size:11px;color:var(--text-secondary);opacity:.7}.message-item.streaming .message-content{position:relative}.cursor{animation:blink 1s infinite;color:var(--text-primary)}@keyframes blink{0%,50%{opacity:1}51%,to{opacity:0}}.streaming-indicator{display:flex;gap:2px;align-items:center}.streaming-indicator .dot{width:4px;height:4px;border-radius:50%;background:var(--text-secondary);animation:pulse 1.4s infinite ease-in-out}.streaming-indicator .dot:nth-child(1){animation-delay:-.32s}.streaming-indicator .dot:nth-child(2){animation-delay:-.16s}@keyframes pulse{0%,80%,to{opacity:.3}40%{opacity:1}}.message-error{margin-top:8px;padding:8px;background:#fee;color:#c00;border-radius:6px;font-size:12px}.input-area{border-top:1px solid var(--border-color);background:var(--bg-primary);padding:16px 24px}.input-area.disabled{padding:16px 24px;text-align:center}.no-models-warning{color:var(--text-warning);font-style:italic}.input-form{display:flex;flex-direction:column;gap:12px}.input-controls{display:flex;gap:12px;align-items:center}.model-selector select{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;background:var(--bg-primary);color:var(--text-primary);font-size:14px;min-width:200px}.input-row{display:flex;gap:12px;align-items:flex-end}.message-input{flex:1;padding:12px 16px;border:1px solid var(--border-color);border-radius:12px;background:var(--bg-primary);color:var(--text-primary);font-size:14px;line-height:1.4;resize:none;font-family:inherit;min-height:44px;max-height:200px}.message-input:focus{outline:none;border-color:var(--border-active)}.message-input:disabled{opacity:.6;cursor:not-allowed}.send-button{width:44px;height:44px;border:none;border-radius:12px;background:var(--bg-primary-button);color:#fff;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.send-button:hover:not(:disabled){background:var(--bg-primary-button-hover)}.send-button:disabled{opacity:.6;cursor:not-allowed}.send-icon{transform:rotate(-45deg);margin-left:2px}.sending-indicator{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.input-hints{display:flex;justify-content:space-between;align-items:center;font-size:11px;color:var(--text-secondary);margin-top:8px}.current-model{font-weight:500}.model-selector{position:relative}.model-selector.error{color:var(--text-error)}.no-models{font-style:italic;font-size:14px}.model-selector-button{display:flex;align-items:center;gap:12px;padding:8px 16px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-primary);color:var(--text-primary);cursor:pointer;font-size:14px;min-width:200px;transition:border-color .2s ease}.model-selector-button:hover{border-color:var(--border-active)}.selected-model{display:flex;flex-direction:column;align-items:flex-start;gap:2px;flex:1}.model-name{font-weight:500}.provider-name{font-size:12px;color:var(--text-secondary)}.dropdown-arrow{transition:transform .2s ease;color:var(--text-secondary)}.dropdown-arrow.open{transform:rotate(180deg)}.model-dropdown{position:absolute;top:100%;left:0;right:0;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #0000001a;z-index:1000;max-height:300px;overflow-y:auto;margin-top:4px}.model-option{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;cursor:pointer;transition:background-color .2s ease}.model-option:hover{background:var(--bg-hover)}.model-option.selected{background:var(--bg-active)}.model-info{flex:1}.model-option .model-name{font-weight:500;margin-bottom:4px}.model-details{display:flex;gap:12px;font-size:11px;color:var(--text-secondary)}.streaming-badge{font-size:10px;padding:2px 6px;background:var(--bg-success);color:var(--text-success);border-radius:4px;font-weight:500}:root{--bg-primary: #ffffff;--bg-secondary: #f8f9fa;--bg-hover: #f1f3f5;--bg-active: #e7f5ff;--bg-primary-button: #228be6;--bg-primary-button-hover: #1c7ed6;--bg-user-message: #228be6;--bg-assistant-message: #ffffff;--bg-system-message: #f8f9fa;--bg-success: #d3f9d8;--bg-error: #ffe3e3;--text-primary: #212529;--text-secondary: #6c757d;--text-user-message: #ffffff;--text-assistant-message: #212529;--text-system-message: #6c757d;--text-success: #2f9e44;--text-error: #e03131;--text-warning: #f59f00;--text-cost: #9c36b5;--border-color: #e9ecef;--border-active: #228be6;--border-error: #fcc2c2}@media (prefers-color-scheme: dark){:root{--bg-primary: #1a1b1e;--bg-secondary: #25262b;--bg-hover: #2c2e33;--bg-active: #364fc7;--bg-primary-button: #5c7cfa;--bg-primary-button-hover: #4c6ef5;--bg-user-message: #5c7cfa;--bg-assistant-message: #25262b;--bg-system-message: #2c2e33;--bg-success: #2b8a3e;--bg-error: #c92a2a;--text-primary: #ffffff;--text-secondary: #adb5bd;--text-user-message: #ffffff;--text-assistant-message: #ffffff;--text-system-message: #adb5bd;--text-success: #51cf66;--text-error: #ff6b6b;--text-warning: #ffd43b;--text-cost: #cc5de8;--border-color: #373a40;--border-active: #5c7cfa;--border-error: #c92a2a}}@media (max-width: 768px){.conversation-sidebar{width:240px;min-width:240px}.chat-container{padding:16px}.input-area{padding:12px 16px}.message-item{max-width:95%;padding:12px}}html,body,#root{height:100%;width:100%;overflow:hidden}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:var(--bg-primary);color:var(--text-primary)}.app{height:100vh;width:100vw;display:flex;flex-direction:column}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-secondary)}::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}button:focus,input:focus,textarea:focus,select:focus{outline:2px solid var(--border-active);outline-offset:2px}.loading{display:flex;align-items:center;justify-content:center;height:100vh;color:var(--text-secondary)}.error{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;color:var(--text-error);text-align:center;padding:2rem}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#f5f5f5}#root{min-height:100vh}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}button,input,textarea{font-family:inherit}
